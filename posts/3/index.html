
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>My Octopress Blog</title>
  <meta name="author" content="Ciel Avenir">

  
  <meta name="description" content="">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://cielavenir.github.io/posts/3">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/bootstrap/bootstrap.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/bootstrap/responsive.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/syntax/syntax.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/bootstrap/table.css" media="screen, projection" rel="stylesheet" type="text/css">
  <style type="text/css">
    body {
      padding-bottom: 40px;
    }
    h1 {
      margin-bottom: 15px;
    }
    img {
      max-width: 100%;
    }
    .sharing, .meta, .pager {
      margin: 20px 0px 20px 0px;
    }
    .page-footer p {
      text-align: center;
    }
  </style>
  <script src="/javascripts/libs/jquery.js"></script>
  <script src="/javascripts/libs/modernizr-2.0.js"></script>
  <script src="/javascripts/libs/bootstrap.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  
  

</head>

<body   >
  <nav role="navigation"><div class="navbar navbar-inverse">
  <div class="navbar-inner">
    <div class="container">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>

      <a class="brand" href="/">My Octopress Blog</a>

      <div class="nav-collapse">
        <ul class="nav">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>


        <ul class="nav pull-right" data-subscription="rss">
          <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
          
        </ul>

        
          <form class="pull-right navbar-search" action="https://www.google.com/search" method="get">
            <fieldset role="search">
              <input type="hidden" name="q" value="site:cielavenir.github.io" />
              <input class="search-query" type="text" name="q" results="0" placeholder="Search"/>
            </fieldset>
          </form>
        
      </div>
    </div>
  </div>
</div>
</nav>
  <div class="container">
    <div class="row-fluid">
      <div class="span9">
  
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2018/08/07/die-tertia/">[Yukicoder] Die Tertia</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-08-07T01:00:00+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://yukicoder.me/problems/no/721">https://yukicoder.me/problems/no/721</a></p>

<h2>解法</h2>

<ul>
<li>mktimeとlocaltime_rを使います。</li>
<li>C <a href="https://yukicoder.me/submissions/277099">https://yukicoder.me/submissions/277099</a></li>
</ul>


<h2>余談</h2>

<ul>
<li>AOJ0261 Mayan Crucial Prediction</li>
<li><a href="http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0261">http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0261</a></li>
<li>も同様のやり方で解けます。</li>
<li>(64bit限定です。初期のAOJは32bitだったため通らないのですがご愛嬌)</li>
<li><a href="http://judge.u-aizu.ac.jp/onlinejudge/review.jsp?rid=585882">http://judge.u-aizu.ac.jp/onlinejudge/review.jsp?rid=585882</a></li>
</ul>


<h2>余談2</h2>

<p>テスター当時はRuby版しか答案作ってませんでしたが解説のためにC版を急遽作りました。。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2018/08/05/mujin-2018/">Mujin Programming Challenge 2018 参加記</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-08-05T11:26:00+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>参加記というより反省会(あとで突っ込まれないように。。)</p>

<h2>昼</h2>

<ul>
<li>ポケモンGo、フリーザーを25体撃破しLv37にした。あづい。</li>
</ul>


<h2>コンテスト</h2>

<table>
<thead>
<tr>
<th style="text-align:left;">時間</th>
<th style="text-align:left;">言語</th>
<th style="text-align:left;">問題(A-H)</th>
<th style="text-align:left;">コメント</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">0:01</td>
<td style="text-align:left;">Ruby</td>
<td style="text-align:left;">A</td>
<td style="text-align:left;"><strong>AC</strong> 時間がかかったのはペナルティに気をつけるためです。</td>
</tr>
<tr>
<td style="text-align:left;">0:03</td>
<td style="text-align:left;">Ruby</td>
<td style="text-align:left;">B</td>
<td style="text-align:left;"><strong>AC</strong></td>
</tr>
<tr>
<td style="text-align:left;">0:18</td>
<td style="text-align:left;">Ruby</td>
<td style="text-align:left;">D</td>
<td style="text-align:left;">愚直な循環検出を書いたが、実行間に合わず。</td>
</tr>
<tr>
<td style="text-align:left;">0:29</td>
<td style="text-align:left;">C++</td>
<td style="text-align:left;">D</td>
<td style="text-align:left;">C++に移植したがTLE 焦る。</td>
</tr>
<tr>
<td style="text-align:left;">0:46</td>
<td style="text-align:left;">Ruby</td>
<td style="text-align:left;">C</td>
<td style="text-align:left;">下と右のマス数を掛け算。TLE (解説の方針と同じなんです)</td>
</tr>
<tr>
<td style="text-align:left;">1:12</td>
<td style="text-align:left;">Ruby/C++</td>
<td style="text-align:left;">D</td>
<td style="text-align:left;">申し訳ありません。C++の実行結果をzlib圧縮して埋め込みました。<strong>AC</strong></td>
</tr>
<tr>
<td style="text-align:left;">1:17</td>
<td style="text-align:left;">Crystal</td>
<td style="text-align:left;">C</td>
<td style="text-align:left;">TLE</td>
</tr>
<tr>
<td style="text-align:left;">1:35</td>
<td style="text-align:left;">C++</td>
<td style="text-align:left;">C</td>
<td style="text-align:left;"><strong>AC</strong> ところでvector transposeをライブラリとして持っていたから助かりましたが、持っていなかったらどうなっていたんでしょう。ぞっとします。</td>
</tr>
<tr>
<td style="text-align:left;">1:59</td>
<td style="text-align:left;">Ruby</td>
<td style="text-align:left;">E</td>
<td style="text-align:left;">コストテーブルを作って最短路という方針は思いつきましたが間に合いませんでした。heapqは以前私がAOJにてheapq.pyを移植したのをコピペしました。<br>(あとで確認したらRubyでは間に合わない感じでしたのでどうせ無駄でしたね…)</td>
</tr>
<tr>
<td style="text-align:left;">2:00</td>
<td style="text-align:left;"></td>
<td style="text-align:left;"></td>
<td style="text-align:left;">264位でした。さすがに雑魚すぎました…</td>
</tr>
</tbody>
</table>


<h2>ライブ</h2>

<p>拝見しました。山内さんちょくだいさんお疲れ様でした。</p>

<h2>E問題その後</h2>

<table>
<thead>
<tr>
<th style="text-align:left;">言語</th>
<th style="text-align:left;">コメント</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">Ruby</td>
<td style="text-align:left;">遷移式が少し間違っていて、<code>1 2 2 LU SG</code>が1ではなく3になっていたorz<br>まあサンプルはそこまで強くなくても文句言えないけど…</td>
</tr>
<tr>
<td style="text-align:left;">Ruby</td>
<td style="text-align:left;">同じ行にSとGがあるときGを検出できていなかったorz</td>
</tr>
<tr>
<td style="text-align:left;">Crystal</td>
<td style="text-align:left;">TLE</td>
</tr>
<tr>
<td style="text-align:left;">Python</td>
<td style="text-align:left;">TLE</td>
</tr>
<tr>
<td style="text-align:left;">C++</td>
<td style="text-align:left;"><strong>AC</strong></td>
</tr>
</tbody>
</table>


<p>なんでCrystalだといかんのだ。。</p>

<h2>まとめ</h2>

<ul>
<li>実装遅いのを()</li>
<li>Crystalを&ndash;releaseでコンパイルしてほしい</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2018/07/15/how-can-i-satisfy-thee/">[AOJ] 如何に汝を満足せしめむ？ いざ数え上げむ…</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-07-15T09:00:00+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=1155">http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=1155</a></p>

<p>構文解析とは何だったのか(2回目)</p>

<h2>解法</h2>

<ul>
<li>Ternaryクラスを用意してevalに投げ込みます。</li>
</ul>


<h2>解答例</h2>

<ul>
<li>Ruby <a href="http://judge.u-aizu.ac.jp/onlinejudge/review.jsp?rid=3027477">http://judge.u-aizu.ac.jp/onlinejudge/review.jsp?rid=3027477</a></li>
<li>Python(2/3) <a href="http://judge.u-aizu.ac.jp/onlinejudge/review.jsp?rid=3027488">http://judge.u-aizu.ac.jp/onlinejudge/review.jsp?rid=3027488</a></li>
</ul>


<h2>感想</h2>

<ul>
<li><a href="http://cielavenir.github.io/blog/2018/07/05/proof-of-knowledge/">知識の証明</a>の時点ではPythonが公式に使えるようになっていたので、下手な構文解析を出すと言語機能で突破されかねませんよって話。この問題は当時Pythonが使えなかったから許されたんだと思う。</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2018/07/05/proof-of-knowledge/">[AOJ] 知識の証明</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-07-05T01:50:00+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2883">http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2883</a></p>

<p>構文解析とは何だったのか。</p>

<h2>解法</h2>

<ul>
<li>例として<code>[+c[+a[^bd]]]</code>を<code>O[c][O[a][X[b][d]]]</code>に変換します。</li>
<li>O、A、Xはそれぞれ2引数を取りor、and、xorするProcで、カリー化されています。</li>
<li>変換された文字列は正しいプログラムなので、evalでバッチリです＾＾</li>
</ul>


<h2>Python</h2>

<ul>
<li>Pythonはfunctools.partialはありますが演算子の形でカリー化することができないので、自前で関数をネストしてカリー化を行います。</li>
<li>なおPythonはRubyのProcで必要な特別扱いが必要ないので、括弧は丸括弧を使います。</li>
<li>(ところで答案内のtranslateのインポート方法に癖がありますが、Py2/3対応にするにはやむを得ないものです。)</li>
</ul>


<h2>解答例</h2>

<ul>
<li>Ruby <a href="http://judge.u-aizu.ac.jp/onlinejudge/review.jsp?rid=2998020">http://judge.u-aizu.ac.jp/onlinejudge/review.jsp?rid=2998020</a></li>
<li>Python(2/3) <a href="http://judge.u-aizu.ac.jp/onlinejudge/review.jsp?rid=2998054">http://judge.u-aizu.ac.jp/onlinejudge/review.jsp?rid=2998054</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2018/06/18/median/">[Yukicoder] 中央値を求めよ LIMITED</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-06-18T00:30:00+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://yukicoder.me/problems/no/702">https://yukicoder.me/problems/no/702</a></p>

<h2>解法</h2>

<ul>
<li>一様分布なので、中央付近以外は捨てる方法で解けます。</li>
<li>ただしqsortはstd::sortよりメモリを若干多く使うため、C言語で解く場合は閾値に注意する必要があります。</li>
</ul>


<h2>解答例</h2>

<ul>
<li>C <a href="https://yukicoder.me/submissions/266771">https://yukicoder.me/submissions/266771</a></li>
<li>C++ <a href="https://yukicoder.me/submissions/266775">https://yukicoder.me/submissions/266775</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2018/06/10/pair-team/">[Yukicoder] ペアでチームを作ろう</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-06-10T02:00:00+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://yukicoder.me/problems/no/698">https://yukicoder.me/problems/no/698</a></p>

<h2>解法</h2>

<ul>
<li>bitDPを使うのが一般的な解法ですが、計算量が増えるものの、next_partial_permutationを使うこともできます。</li>
<li>標準関数ではありませんが、<code>next_permutation(v.begin(), v.end())</code>する直前に<code>reverse(v.begin()+middle, v.end())</code>するだけなので、(next_combinationと違って)インラインで組み込むのは簡単です。</li>
<li><code>v.begin()</code>から<code>v.begin()+middle</code>までを(<code>middle P size</code>の)部分順列として使います。</li>
<li>ただし、ループが回るたびに、<code>v.begin()+middle</code>から<code>v.end()</code>まではソートされていることが保証されています。この性質を利用することで、vからsize-middle個選んでから残りのmiddle個を総当たりしたのと同じことになるのです。</li>
<li>ループ回数は14P7 = 17297280回です。</li>
</ul>


<h2>解答例</h2>

<ul>
<li>C++ <a href="https://yukicoder.me/submissions/264420">https://yukicoder.me/submissions/264420</a></li>
<li>cLay <a href="https://yukicoder.me/submissions/264422">https://yukicoder.me/submissions/264422</a></li>
</ul>


<h2>チームを作ろう２</h2>

<ul>
<li>この解法であればこちらもループ内の加算とxorを入れ替えるだけで容易に解くことができます。</li>
<li>cLay <a href="https://yukicoder.me/submissions/265093">https://yukicoder.me/submissions/265093</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2018/05/06/five/">[Atcoder] Five, Five Everywhere</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-05-06T02:00:00+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://abc096.contest.atcoder.jp/tasks/abc096_d">https://abc096.contest.atcoder.jp/tasks/abc096_d</a></p>

<h2>出力</h2>

<ul>
<li>AGC001以降のAtCoderでは、区切りは空白区切り改行区切りのどちらでも構いません(trailing spaceも可)。</li>
<li>よって<code>puts arr*' '</code>は<code>puts arr</code>、ひいては<code>p *arr</code>でokです。以下では後者を使います。</li>
</ul>


<h2>解法</h2>

<ul>
<li>5で割ってあまりが1になる整数の集合から5個選んだ合計は5で割り切れます。</li>
<li>素数を列挙していき、1の位が1であるものをN個拾えば良いです。

<ul>
<li>実際には1の位は(統一していれば)1,3,7,9のいずれも大丈夫です。以下の答案では9を採用しています。</li>
<li>64bytes</li>
</ul>
</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='rb'><span class='line'><span class="nb">require</span><span class="s1">&#39;prime&#39;</span><span class="p">;</span><span class="nb">p</span> <span class="o">*</span><span class="no">Prime</span><span class="o">.</span><span class="n">each</span><span class="p">(</span><span class="mi">1499</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span><span class="n">e</span><span class="o">%</span><span class="mi">5</span><span class="o">&gt;</span><span class="mi">3</span><span class="p">}</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="nb">gets</span><span class="o">.</span><span class="n">to_i</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>1の位がX(奇数、以下の答案では3)である整数を全て列挙し、素数をN個拾うようにすると以下のようになります。</li>
<li>62bytes</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='rb'><span class='line'><span class="nb">require</span><span class="s1">&#39;prime&#39;</span><span class="p">;</span><span class="nb">p</span> <span class="o">*</span><span class="mi">3</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="mi">1499</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:prime?</span><span class="p">)</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="nb">gets</span><span class="o">.</span><span class="n">to_i</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<h3>フェルマーテスト</h3>

<ul>
<li><code>require'prime'</code>をカットすることで字数の節約にはなりますが、<code>Integer#prime?</code>は使えなくなるので、別の素数判定が必要になります。そこで、フェルマーテストを用います。</li>
<li>[1]に載っている式、<code>2**i%i==2</code>を使います。なおこの素数判定の場合stepの初期値を1にすることはできなくなるので注意してください(3,7,9は可)。</li>
<li>51bytes</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='rb'><span class='line'><span class="nb">p</span> <span class="o">*</span><span class="mi">3</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="mi">1499</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">{</span><span class="o">|</span><span class="n">i</span><span class="o">|</span><span class="mi">2</span><span class="o">**</span><span class="n">i</span><span class="o">%</span><span class="n">i</span><span class="o">==</span><span class="mi">2</span><span class="p">}</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="nb">gets</span><span class="o">.</span><span class="n">to_i</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<h3>redo</h3>

<ul>
<li>[2]では、ループカウンタをインクリメントしないよう、条件を満たさない場合はredoを使っています。これはPerlだけでなくRubyでも有用なテクニックです。</li>
<li><a href="https://abc096.contest.atcoder.jp/submissions/2470406">https://abc096.contest.atcoder.jp/submissions/2470406</a> (最終答案)</li>
<li>46bytes</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='rb'><span class='line'><span class="n">i</span><span class="o">=</span><span class="mi">3</span><span class="p">;</span><span class="nb">gets</span><span class="o">.</span><span class="n">to_i</span><span class="o">.</span><span class="n">times</span><span class="p">{</span><span class="n">i</span><span class="o">+=</span><span class="mi">5</span><span class="p">;</span><span class="mi">2</span><span class="o">**</span><span class="n">i</span><span class="o">%</span><span class="n">i</span><span class="o">==</span><span class="mi">2</span><span class="o">?</span><span class="p">(</span><span class="nb">p</span> <span class="n">i</span><span class="p">)</span><span class="ss">:redo</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>discussion</h2>

<ul>
<li>フェルマーテストやredoの実践例を挙げることができました。どちらもゴルフには有用であると思われます。</li>
</ul>


<h2>reference</h2>

<ol>
<li>cojnaさん <a href="https://abc096.contest.atcoder.jp/submissions/2465874">https://abc096.contest.atcoder.jp/submissions/2465874</a></li>
<li>%20さん <a href="https://abc096.contest.atcoder.jp/submissions/2467541">https://abc096.contest.atcoder.jp/submissions/2467541</a></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2018/04/21/ball/">[Atcoder] Ball</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-04-21T22:00:00+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://bcu30-2018.contest.atcoder.jp/tasks/bcu30_2018_a">https://bcu30-2018.contest.atcoder.jp/tasks/bcu30_2018_a</a></p>

<h2>概要</h2>

<p>(現状問題公開されてないですからね…)</p>

<p>1個ずつ数字が書かれた球がA個ある。これを1個ずつ数字が書かれたB個の球にしたい。ただし変換は以下の2種類。</p>

<ul>
<li>数xと数yが書かれた2個の球を数x * yが書かれた1個の球にする</li>
<li>数xが書かれた1個の球を、(x%y==0となるような適当なyを選んで)数yと数x / yが書かれた2個の球にする</li>
</ul>


<p>この条件で最終状態を達成できるか？AおよびBは9以下、書かれている数はそれぞれ100以下。</p>

<h2>解法</h2>

<ul>
<li>探索…は必要ないです。乗算と余りのない除算のみで構成されるということは、素因数です。素因数の組が等しい…つまり、状態Aの数の積と状態Bの数の積が等しければYesです。</li>
<li>多分、制約は、積がint64に収まるようにってことなんだと思う。</li>
</ul>


<h2>感想</h2>

<ul>
<li>気づきづらい。</li>
<li>本当は「積が等しいかどうか判定せよ」という問題だったけど、がち勢が多かったので難しくしたらしい。</li>
<li>おかげで体感300点ぐらいでした…つらいよぅorz</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2018/03/10/conveyor-sushi/">[Atcoder] くるくる寿司</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-03-10T22:16:50+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>概要</h2>

<ul>
<li>N(=3000)枚の寿司ネタ(a-zの26種類)を連続して流す(文字列Sとする)。</li>
<li>その中からM(=7)枚の部分列がQ(=30000)個問い合わせられる。ただし場合により部分列は連続していないことがある。</li>
<li>そのそれぞれに対し、S上でのインデックスを答える。</li>
</ul>


<h2>決定的アルゴリズム</h2>

<p>この問題、D=1とすれば、部分列は連続であることが保証されます。つまり、決定的アルゴリズムを使うことができます。</p>

<ul>
<li>N枚のうちで連続したM枚についてすべて異なるようにSを生成します。

<ul>
<li>完全に決定的にするには <a href="https://en.wikipedia.org/wiki/De_Bruijn_sequence">https://en.wikipedia.org/wiki/De_Bruijn_sequence</a> とか使うんですが、発展のために少しでもエントロピーを上げたいので、この部分は乱択を使って良いと思います。</li>
</ul>
</li>
<li>すべて異なることがわかっているのだから、M枚の部分文字列を単にSから探すだけで終わりです。</li>
<li><p>Sの生成さえできれば、1ケースに付き30000点、 <strong>合計300000点を確実に獲得できます。</strong></p></li>
<li><p>Rubyの事実上初版 <a href="https://rco-contest-2018-final-open.contest.atcoder.jp/submissions/2177816">https://rco-contest-2018-final-open.contest.atcoder.jp/submissions/2177816</a></p></li>
</ul>


<h2>発展</h2>

<ul>
<li>この状態であれば、0..Nのそれぞれ(j)に対し、qがS[j,M*3]中にこの順番で入っている数(ただしSの先頭に入っているほど重みを大きくする)が最大となるjをインデックスとして答える実装にすることで、D=2.5程度までは安定してインデックスを求めることができます。

<ul>
<li>「*3」は、元となる部分文字列の長さはM*3以下であることを期待しています。</li>
</ul>
</li>
<li><p>この「重み」が評価関数の肝になると思うのですが、調整の余地が残っている気がします。</p></li>
<li><p>C++の(コンテスト後)最終版(381792点) <a href="https://rco-contest-2018-final-open.contest.atcoder.jp/submissions/2179945">https://rco-contest-2018-final-open.contest.atcoder.jp/submissions/2179945</a></p></li>
<li><p>なお、コンテスト中は元となる部分文字列の長さがMであり、qの長さがM未満になりうると誤読していました、D=1.5にしかできなかったので324730点どまりでした。無念。</p></li>
</ul>


<h2>記事としての結論</h2>

<ul>
<li>順位表で、ある点数を取っている人が沢山いる場合は決定的アルゴリズムを疑うのは有用ではないかと思います。</li>
</ul>


<h2>補足</h2>

<ul>
<li>Sの一例は次のとおりです：</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>kzsbqmuxtqwazgonugucjaouqsihsmgjpvdiwscfaewltvsyolgoenjcmlylyzhqlhgaypshugqlrqfxjigsliujfconzsyrnctoeztichmtznzxfhfkcpytpenkyqxmwxeaihahytbkbqkzxplhdtnzbsnpwhdpzjykrgwoxihvkiqrgmruztplaiuqecvbrvlbkwsbylxgxytyhsyiedtfvkjiylnjmcmhvtlkrmqbafrhngsqrvfbkadbkjshyhbagjoyhqmwipzegzqjkpxoquezkdplxombjqkdtbgnghkdaregkmrxelhpfbfoewbnfewmqvyivwkhfahoryxqvqnoguwpcldzcqlbpfruijrenfofeajcnrtcnqlzhbwdxwglmbkhdfhdyhfinxkwksypafghuoilqofnmbiavcqtjszdtowlqsdienoymvlrhczlysmlokhbvluaelotziotdtcwnvsigjnfjfywkeyalcmxgwyojkjrigvlnoqehmgopgvhntqxvnmxobebiwbzomjracdoerdndvbdygoyeayujwhtoiouxhmdbqusqbmqwnucgbzligimgnaswqbcdjchomvihdwmksltueulypyjsrnjeyoipdfxtveurkuwxatwmawmvrahsgexunjrdzemesmkfxmdzjvqxijdqoabvahbzeklborztczqlicyzbpemqinofcfuvaznakgxaevhcmqgmnescpxghixypxsxcxcqsqpkldvycwkxhkqcwqlqxnpoazsohnoucsztqdizbntfdeteiximtuymuzodlquigwhzoqjezyqahpkifvbyhkibmhslzdwybpojuegpyopwcdigpepmgpgdgdlumhrnfscleimrhriyjxfypdawcybayotfguipljmjvzxixpxugnlzvqemwluzwskegvpmpvrftyrfegxwetstcouotmofsakluqdmliroqiaodhrbvxnqgwrqntenstlhykhjalzlwuqvcmwawfyqojhpymlgycsxyhgqxjvesdbifgxitdikicrtnuzywysuvxrsidvtwisowtvltfyvmeqdpnzhklcvxmygjzmtpfqzezwkgiwfdctpchqfljqenqbxhxuivldilsldfesvtebuxcpqsharzikqnvxudumxqlknkpblcicqjimafnaqbocjmguzcliduealstwhnyqcbypexcnyjndbwgvefjwlbzilcqejkylrwqmbzsxolbvuihmkvyjlwkitvthxsmozyektmnhxifxziytweudfnhipwstdzwqcekmuswolxrvwagpfhlgwqhqsgocwioykxpnlkpcjtzdfwfxnfrdjnpkmfkninbsmpdblqveasiejnqxthdioxfpruxabcjftnkgdphravwvzlcgtonqcftlckmvmxvhojwuzpetwyhzvcrgclxembtiksgkxrnwhpamnrcztbftknzijgsrxwnfxrzhacvfakjapavrbrmdacqhurnqozroebwnqjgmcnpdwkrhzwbrusawknwyglczmewansanujgkljlntcbxeqtuczwnsvawpgkzkzqnruqbnuoepfxylqmqfodorsrlyuhoxtgxqizpzokjqskcapuoctghnhsprjgyayidqelwfaufxvpcqgtbvgltgbrbmtawovsdvsnmjymqdtkjeptmhmcjenmwktbnvmqnjyuceclnpeqktpdhclyvwbszlqlvzbahuktlwyzphaoaftshmvelbhvbqyfatbjmknybdnpjpxtovwodvxzdapgwbekptxputuqwsfrcqyauvegdfcjsjudqnqiqsfzeoevlkdczpkwejcfekodqdcpzqsjfhgkovcjzhtnyosceiknalxljzpcsnqnpvigrmblkflihbrireolvlpmyunynuemvfkmyhryqvwcqrbnryjydnsusbesncslszxjpirhqxbfnsxlwsrbxurvjystorpmeiyxcmgynknfdlzqgatiyhmyfksjbcokchpbgxgjkiafsmzepbfmjzyntzcalnfufqlgqkwynmizavocyqijpuevsjdlvbwmycvepjzvhxznxlyhaeypicgiyfnxwasyukgmiwikmgtkvgwevafmkpnphuvczrjcgqewivjugpikduiofvaeshowxzcuxecemurqieiflobzxbxswciepxwfmhkevjxtngfxgckfvtztjyznqkyiymeauyvkdgspmzgxmxuoztrkpudrdowrysdcozcpbydsygxroclwhldqrzswnldbgjybwhrseljwmclgzabgpmthltqocahrzrnowgpcrzkazcyhxqdknlapzhjyhjsnejbnoeabjvdcxjkgcniokyxyjujkfmtgrxdvwpnbxficmzrbspvozlsmdoxdefbhgmfumuakdxdivrvzjfdngjqxutjeibzahvmktqjvryplivblnetnvukxjmvtgzidxhokfhicoaqvhpmwpoefwgqsznyczfetgnfqtwornmnslycqodunanvrzvtufmxdqubnqfbyzrwcmyteukdskmjhsijkhzqopckiobdabsyzujbxjnymiaroiwafpwbpihqnhlmxsopoxbqrfxhavgqurfpkgskntoavqdbfhqkfyspwmihrtesoemfnbwswyqutsaujcdkepdukawaigywzveizimplsnvalkgrgeuznvbxgeruhwoijvmcazucrvofdmvuqcsyejrmeyclsgafckhcdtpvlvymcvswgfzkphxbmgcdxzlxzqmdwocowclvwrspkurzjsbnxfxiatubjfriasfyxwdejpmsfvmfptijwykizxoubgetmbsogpwqwkqlsfxklopxpwjwrpizgqonplrpfpmqagnmcgcoqgemovxtxrkdnwqugvmyqetbiqchfcmpsunwjnuplmzwjplfj</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2018/03/03/tetranacci/">[Yukicoder] テトラナッチ数列 (Hard)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-03-03T02:00:00+09:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://yukicoder.me/problems/no/658">https://yukicoder.me/problems/no/658</a></p>

<ul>
<li>周期性を使わなくても行列累乗で解けますが、問題のサイズが割と大きいのでコンパイル言語が必須になります。</li>
<li><p>yukicoderのCrystalには(AtCoderと違って)<a href="https://yukicoder.me/help/environments">&ndash;releaseがついていて</a>よかったね。</p></li>
<li><p><a href="https://yukicoder.me/submissions/226614">https://yukicoder.me/submissions/226614</a></p></li>
</ul>


<p>以上、解説というよりはコメンタリーでした。</p>
</div>
  
  


    </article>
  
  <ul class="pager">
    
    <li class="previous"><a href="4">&larr; Older</a></li>
    
    <li><a href="/blog/archives">Blog Archives</a></li>
    
    <li class="next"><a href="2">Newer &rarr;</a></li>
    
  </ul>
</div>
<aside class="sidebar-nav span3">
  
    <section class="well">
  <ul id="recent_posts" class="nav nav-list">
    <li class="nav-header">Recent Posts</li>
    
      <li class="post">
        <a href="/blog/2038/01/01/personal-stuff/">Personal Stuff</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/11/17/lncrna-cite/">how to cite mcmanuslab long noncoding rna article</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/10/12/sametoro/">[yukicoder] サメトロ</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/10/05/math-note/">数学ガールの秘密ノート立ち読み</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/08/03/ingress/">Ingress</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo" class="page-footer"><hr>
<p>
  Copyright &copy; 2020 - Ciel Avenir -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
